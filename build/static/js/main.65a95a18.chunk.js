(this.webpackJsonpsetup=this.webpackJsonpsetup||[]).push([[0],{23:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(20),r=a.n(c),o=(a(30),a(10)),u=a(7),s=(a(36),a(3));var i=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Samepage BookStore"),l.a.createElement("div",null,l.a.createElement("ul",{className:"nav-list"},l.a.createElement("li",null,l.a.createElement(o.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/Categories"},"Categories")))))},m=a(8),d=a(44);const E="https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/PWiB57pJPPFLc1okU4BW/books",b=Object(m.b)("book/getBooksData",async()=>{try{const e=await Object(d.a)(E);let t=Object.entries(e.data);return t=(e=>{const t=[];return e.forEach(e=>{const a={id:e[0],title:e[1][0].title,author:e[1][0].author,category:e[1][0].category};t.push(a)}),t})(t),t}catch(e){return e}}),p=Object(m.b)("book/addBooks",async e=>{let{id:t,title:a,author:n}=e;try{return await d.a.post(E,{itemId:t,title:a,author:n,category:"Non fiction"})}catch(l){return l}}),f=Object(m.b)("book/deleteBook",async e=>{try{return await d.a.delete("".concat(E,"/").concat(e))}catch(t){return t}});var h=Object(m.c)({name:"book",initialState:{books:[],isLoading:!1,isError:!1,isSuccessful:!1},extraReducers:e=>{e.addCase(b.pending,e=>{e.isLoading=!0}),e.addCase(b.fulfilled,(e,t)=>{e.isLoading=!1,e.books=t.payload}),e.addCase(b.rejected,e=>{e.isLoading=!1,e.isError=!0}),e.addCase(p.pending,e=>{e.isSuccessful=!1}),e.addCase(p.fulfilled,e=>{e.isSuccessful=!0}),e.addCase(p.rejected,e=>{e.isSuccessful=!1}),e.addCase(f.pending,e=>{e.isSuccessful=!1}),e.addCase(f.fulfilled,e=>{e.isSuccessful=!0}),e.addCase(f.rejected,e=>{e.isSuccessful=!1})}}).reducer;var g=function(e){let{books:t}=e;const a=Object(u.b)();return l.a.createElement("div",null,l.a.createElement("ul",null,t.map(e=>l.a.createElement("li",{key:e.id},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("p",null,e.category),l.a.createElement("h1",null,e.title),l.a.createElement("p",null,e.author),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"comments"),l.a.createElement("div",{className:"border"}),l.a.createElement("button",{type:"submit",onClick:()=>a(f(e.id))},"Remove"),l.a.createElement("div",{className:"border"}),l.a.createElement("button",{type:"submit"},"Edit"))))))))};var v=function(){const{books:e,isLoading:t,isError:a,isSuccessful:l}=Object(u.c)(e=>e.books),c=Object(u.b)();return Object(n.useEffect)(()=>{c(b())},[c,l]),t?n.React.createElement("p",null,"Loading....Please wait"):a?n.React.createElement("p",null,"Sorry, please try again"):0===e.length?n.React.createElement("p",null,"Sorry, no books available at the moment"):n.React.createElement(g,{books:e})},y=a(45);var k=function(){const[e,t]=Object(n.useState)({title:"",author:""}),a=Object(u.b)(),l=a=>{const{name:n,value:l}=a.target,c={[n]:l};t({...e,...c})};return n.React.createElement("form",null,n.React.createElement("label",{htmlFor:"label"},"ADD NEW BOOK",n.React.createElement("div",null,n.React.createElement("input",{type:"text",onChange:l,name:"title",value:e.title,placeholder:"Book Title"}),n.React.createElement("br",null),n.React.createElement("input",{type:"text",name:"author",onChange:l,value:e.author,placeholder:"Author"}),n.React.createElement("br",null),n.React.createElement("button",{type:"submit",onClick:n=>{n.preventDefault();const l={id:Object(y.a)(),...e};a(p(l)),t(e)}},"ADD BOOK"))))};var O=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement(k,null)))};var j=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"A comprehensive guide to the different types of books"))};var C=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(i,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(O,null)}),l.a.createElement(s.a,{path:"/Categories",element:l.a.createElement(j,null)})))};const S=Object(m.c)({name:"category",initialState:{category:[],status:"Under Construction"},reducers:{category:e=>{e.status="Under Construction"}}});var R=S.reducer;const{category:B}=S.actions;var L=Object(m.a)({reducer:{books:h,category:R}});r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(u.a,{store:L},l.a.createElement(C,null)))))}},[[23,1,2]]]);
//# sourceMappingURL=main.65a95a18.chunk.js.map